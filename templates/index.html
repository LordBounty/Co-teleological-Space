<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Co-Teleological Space</title>
  <!-- Your other head information -->
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <!-- Navigation bar -->
  <nav class="navbar">
    <div class="nav-left">Co-Teleological Space</div>
    <div class="nav-right">
      <button class="nav-button" id="about-btn">About</button>
      <button class="nav-button" id="help-btn">Help</button>
      <!-- Setting button: replaces the original configBtn function -->
      <button class="nav-button" id="setting-btn">Setting</button>
      <button id="save-btn" class="nav-button">Export</button>
      <!--<button class="nav-button" id="export-page-btn">Export</button>-->
    </div>
  </nav>

  <!-- Button group container -->
  <div id="journey-btn-group">
    <!-- Journey button -->
    <button id="journey-toggle-btn">
      <img 
        src="{{ url_for('static', filename='journey.png') }}" 
        alt="Journey"
      >
    </button>
    <!-- New Summary button -->
    <button id="summary-btn">
      <img
        src="{{ url_for('static', filename='summary.png') }}"
        alt="Summary"
      >
    </button>
  </div>

  <!-- Main view container -->
  <div id="viewport" class="viewport">
    <div id="root" class="container">
      <!-- Root unit (example) -->
      <div class="interactive-unit" style="--level:0;" data-index="">
        <div class="root-input-row">
          <input type="text" placeholder="Enter your prompt here..." class="root-input">
          <button class="root-run-button" onclick="onRunClick(this)">
            <img src="{{ url_for('static', filename='send.png') }}" alt="Run Icon" />
          </button>
        </div>
        <div class="response"></div>
      </div>
    </div>
  </div>

  <!-- Bottom black transparent text container (will fade out when the Run button is clicked on the root unit) -->
  <div class="bottom-info">
    <div class="info-box">
      <h2>You may try task </h2>
      <p>-Write a poem on the theme of loneliness, expressing your feelings of loneliness</p>
      <p>- Design an educational toy for pre-school children aged 4 to 6 years old for improving basic maths skills, with safety and interactivity in mind</p>
      <p>- Designing a multi-functional home office environment for a small flat must include lounge and work areas, taking into account light, storage and reception needs</p>
      <p>- Designing a costume</p>
    </div>
  </div>

  <!-- Modal window: hidden by default, shown after clicking Help, hidden when clicking close X or blank space -->
  <div id="helpModal" class="modal">
    <div class="modal-content">
      <span id="helpModalClose" class="modal-close">&times;</span>
      <!-- Show help image, assumed to be help.png in the static/ folder -->
      <img 
        src="{{ url_for('static', filename='help.jpg') }}" 
        alt="Help Tutorial" 
        style="max-width: 100%;"
      >
    </div>
  </div>

  <!-- About modal window, hidden initially -->
  <div id="aboutModal" class="modal">
    <div class="modal-content">
      <span id="aboutModalClose" class="modal-close">&times;</span>
      <h2>About This Prototype</h2>
      <p>This novel interface, allows people ot trace their co-teleological decision journey tree. This is important to see the multiple branch exploration, providing more alternative and comparisons over a linear interface.</p>
      <p>The interface and interactions, is the collaborative aspect. The interaface and dialogue between multiple humans and the AI a social creative Eliciting playful and curious opportunites. </p>
      <p>This prototype, as part of an experiment exploring co-teleology, is intended to validate the plausibility of this interaction paradigm through feedback from testers' use and interactions, and any information gathered will be used for experimental purposes only.</p>
    </div>
  </div>

  <!-- Summary modal window, hidden initially -->
  <div id="summaryModal" class="modal">
    <div class="modal-content">
      <span id="summaryModalClose" class="modal-close">&times;</span>
      <h2>Summary of All Branches</h2>
      <div id="summaryModalBody">
        <!-- Summary content will be inserted here by JS -->
      </div>
    </div>
  </div>

  <!-- Floating container to show root unit input content -->
  <div id="floating-rootprompt">
    <span id="rootprompt-text"></span>
  </div>

  <!-- Journey sidebar -->
  <div id="journeyPanel" class="journey-panel">
    <div class="journey-panel-content" id="journeyPanelContent">
      <!-- Specific user/assistant content will be inserted here dynamically by JS -->
    </div>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>

</body>
</html>
